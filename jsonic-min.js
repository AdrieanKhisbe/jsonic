/* Copyright (c) 2013 Richard Rodger, MIT License, https://github.com/rjrodger/jsonic */
"use strict";(function(){var l=this,n=l.jsonic,u="undefined"!=typeof require,r=l._;if("undefined"==typeof r){if(!u)throw new Error("jsonic requires underscore, see http://underscorejs.org");r=require("underscore")}var t=l.jsonic=function(l){return l=""+l,"{"!=l[0]&&(l="{"+l+"}"),e.parse(l)};t.noConflict=function(){return l.previous_jsonic=n,self};var e=function(){function l(l){return'"'+l.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,escape)+'"'}var n={parse:function(n,u){function r(l){B>I||(I>B&&(B=I,D=[]),D.push(l))}function t(){var l,n,u,r;return u=I,r=I,l=S(),null!==l?(n=e(),null!==n?l=[l,n]:(l=null,I=r)):(l=null,I=r),null!==l&&(l=function(l,n){return n}(u,l[1])),null===l&&(I=u),l}function e(){var l,u,t,e,c,i,a;return i=I,a=I,123===n.charCodeAt(I)?(l="{",I++):(l=null,0===M&&r('"{"')),null!==l?(u=S(),null!==u?(125===n.charCodeAt(I)?(t="}",I++):(t=null,0===M&&r('"}"')),null!==t?(e=S(),null!==e?l=[l,u,t,e]:(l=null,I=a)):(l=null,I=a)):(l=null,I=a)):(l=null,I=a),null!==l&&(l=function(){return{}}(i)),null===l&&(I=i),null===l&&(i=I,a=I,123===n.charCodeAt(I)?(l="{",I++):(l=null,0===M&&r('"{"')),null!==l?(u=S(),null!==u?(t=o(),null!==t?(125===n.charCodeAt(I)?(e="}",I++):(e=null,0===M&&r('"}"')),null!==e?(c=S(),null!==c?l=[l,u,t,e,c]:(l=null,I=a)):(l=null,I=a)):(l=null,I=a)):(l=null,I=a)):(l=null,I=a),null!==l&&(l=function(l,n){return n}(i,l[2])),null===l&&(I=i)),l}function o(){var l,u,t,e,o,i,a,f;if(i=I,a=I,l=c(),null!==l){for(u=[],f=I,44===n.charCodeAt(I)?(t=",",I++):(t=null,0===M&&r('","')),null!==t?(e=S(),null!==e?(o=c(),null!==o?t=[t,e,o]:(t=null,I=f)):(t=null,I=f)):(t=null,I=f);null!==t;)u.push(t),f=I,44===n.charCodeAt(I)?(t=",",I++):(t=null,0===M&&r('","')),null!==t?(e=S(),null!==e?(o=c(),null!==o?t=[t,e,o]:(t=null,I=f)):(t=null,I=f)):(t=null,I=f);null!==u?(44===n.charCodeAt(I)?(t=",",I++):(t=null,0===M&&r('","')),t=null!==t?t:"",null!==t?(e=S(),null!==e?l=[l,u,t,e]:(l=null,I=a)):(l=null,I=a)):(l=null,I=a)}else l=null,I=a;return null!==l&&(l=function(l,n,u){var r={};r[n[0]]=Z(n[1]);for(var t=0;t<u.length;t++)r[u[t][2][0]]=Z(u[t][2][1]);return r}(i,l[0],l[1])),null===l&&(I=i),l}function c(){var l,u,t,e,o,c;return o=I,c=I,l=b(),null!==l?(58===n.charCodeAt(I)?(u=":",I++):(u=null,0===M&&r('":"')),null!==u?(t=S(),null!==t?(e=f(),null!==e?l=[l,u,t,e]:(l=null,I=c)):(l=null,I=c)):(l=null,I=c)):(l=null,I=c),null!==l&&(l=function(l,n,u){return[n,u]}(o,l[0],l[3])),null===l&&(I=o),l}function i(){var l,u,t,e,o,c,i;return c=I,i=I,91===n.charCodeAt(I)?(l="[",I++):(l=null,0===M&&r('"["')),null!==l?(u=S(),null!==u?(93===n.charCodeAt(I)?(t="]",I++):(t=null,0===M&&r('"]"')),null!==t?(e=S(),null!==e?l=[l,u,t,e]:(l=null,I=i)):(l=null,I=i)):(l=null,I=i)):(l=null,I=i),null!==l&&(l=function(){return[]}(c)),null===l&&(I=c),null===l&&(c=I,i=I,91===n.charCodeAt(I)?(l="[",I++):(l=null,0===M&&r('"["')),null!==l?(u=S(),null!==u?(t=a(),null!==t?(93===n.charCodeAt(I)?(e="]",I++):(e=null,0===M&&r('"]"')),null!==e?(o=S(),null!==o?l=[l,u,t,e,o]:(l=null,I=i)):(l=null,I=i)):(l=null,I=i)):(l=null,I=i)):(l=null,I=i),null!==l&&(l=function(l,n){return n}(c,l[2])),null===l&&(I=c)),l}function a(){var l,u,t,e,o,c,i,a;if(c=I,i=I,l=f(),null!==l){for(u=[],a=I,44===n.charCodeAt(I)?(t=",",I++):(t=null,0===M&&r('","')),null!==t?(e=S(),null!==e?(o=f(),null!==o?t=[t,e,o]:(t=null,I=a)):(t=null,I=a)):(t=null,I=a);null!==t;)u.push(t),a=I,44===n.charCodeAt(I)?(t=",",I++):(t=null,0===M&&r('","')),null!==t?(e=S(),null!==e?(o=f(),null!==o?t=[t,e,o]:(t=null,I=a)):(t=null,I=a)):(t=null,I=a);null!==u?l=[l,u]:(l=null,I=i)}else l=null,I=i;return null!==l&&(l=function(l,n,u){for(var r=[Z(n)],t=0;t<u.length;t++)r.push(Z(u[t][2]));return r}(c,l[0],l[1])),null===l&&(I=c),l}function f(){var l,u,t,o;return l=s(),null===l&&(l=h(),null===l&&(l=g(),null===l&&(l=e(),null===l&&(l=i(),null===l&&(t=I,o=I,"true"===n.substr(I,4)?(l="true",I+=4):(l=null,0===M&&r('"true"')),null!==l?(u=S(),null!==u?l=[l,u]:(l=null,I=o)):(l=null,I=o),null!==l&&(l=function(){return!0}(t)),null===l&&(I=t),null===l&&(t=I,o=I,"false"===n.substr(I,5)?(l="false",I+=5):(l=null,0===M&&r('"false"')),null!==l?(u=S(),null!==u?l=[l,u]:(l=null,I=o)):(l=null,I=o),null!==l&&(l=function(){return!1}(t)),null===l&&(I=t),null===l&&(t=I,o=I,"null"===n.substr(I,4)?(l="null",I+=4):(l=null,0===M&&r('"null"')),null!==l?(u=S(),null!==u?l=[l,u]:(l=null,I=o)):(l=null,I=o),null!==l&&(l=function(){return O}(t)),null===l&&(I=t),null===l&&(t=I,l=C(),null!==l&&(l=function(l,n){return n.join("")}(t,l)),null===l&&(I=t))))))))),l}function s(){var l,u,t,e,o,c;return M++,o=I,c=I,34===n.charCodeAt(I)?(l='"',I++):(l=null,0===M&&r('"\\""')),null!==l?(34===n.charCodeAt(I)?(u='"',I++):(u=null,0===M&&r('"\\""')),null!==u?(t=S(),null!==t?l=[l,u,t]:(l=null,I=c)):(l=null,I=c)):(l=null,I=c),null!==l&&(l=function(){return""}(o)),null===l&&(I=o),null===l&&(o=I,c=I,34===n.charCodeAt(I)?(l='"',I++):(l=null,0===M&&r('"\\""')),null!==l?(u=A(),null!==u?(34===n.charCodeAt(I)?(t='"',I++):(t=null,0===M&&r('"\\""')),null!==t?(e=S(),null!==e?l=[l,u,t,e]:(l=null,I=c)):(l=null,I=c)):(l=null,I=c)):(l=null,I=c),null!==l&&(l=function(l,n){return n}(o,l[1])),null===l&&(I=o)),M--,0===M&&null===l&&r("double-quote string"),l}function h(){var l,u,t,e,o,c;return M++,o=I,c=I,39===n.charCodeAt(I)?(l="'",I++):(l=null,0===M&&r('"\'"')),null!==l?(39===n.charCodeAt(I)?(u="'",I++):(u=null,0===M&&r('"\'"')),null!==u?(t=S(),null!==t?l=[l,u,t]:(l=null,I=c)):(l=null,I=c)):(l=null,I=c),null!==l&&(l=function(){return""}(o)),null===l&&(I=o),null===l&&(o=I,c=I,39===n.charCodeAt(I)?(l="'",I++):(l=null,0===M&&r('"\'"')),null!==l?(u=p(),null!==u?(39===n.charCodeAt(I)?(t="'",I++):(t=null,0===M&&r('"\'"')),null!==t?(e=S(),null!==e?l=[l,u,t,e]:(l=null,I=c)):(l=null,I=c)):(l=null,I=c)):(l=null,I=c),null!==l&&(l=function(l,n){return n}(o,l[1])),null===l&&(I=o)),M--,0===M&&null===l&&r("single-quote string"),l}function A(){var l,n,u;if(u=I,n=d(),null!==n)for(l=[];null!==n;)l.push(n),n=d();else l=null;return null!==l&&(l=function(l,n){return n.join("")}(u,l)),null===l&&(I=u),l}function d(){var l,u,t,e,o,c,i;return/^[^"\\\0-\x1F]/.test(n.charAt(I))?(l=n.charAt(I),I++):(l=null,0===M&&r('[^"\\\\\\0-\\x1F]')),null===l&&(c=I,'\\"'===n.substr(I,2)?(l='\\"',I+=2):(l=null,0===M&&r('"\\\\\\""')),null!==l&&(l=function(){return'"'}(c)),null===l&&(I=c),null===l&&(c=I,"\\\\"===n.substr(I,2)?(l="\\\\",I+=2):(l=null,0===M&&r('"\\\\\\\\"')),null!==l&&(l=function(){return"\\"}(c)),null===l&&(I=c),null===l&&(c=I,"\\/"===n.substr(I,2)?(l="\\/",I+=2):(l=null,0===M&&r('"\\\\/"')),null!==l&&(l=function(){return"/"}(c)),null===l&&(I=c),null===l&&(c=I,"\\b"===n.substr(I,2)?(l="\\b",I+=2):(l=null,0===M&&r('"\\\\b"')),null!==l&&(l=function(){return"\b"}(c)),null===l&&(I=c),null===l&&(c=I,"\\f"===n.substr(I,2)?(l="\\f",I+=2):(l=null,0===M&&r('"\\\\f"')),null!==l&&(l=function(){return"\f"}(c)),null===l&&(I=c),null===l&&(c=I,"\\n"===n.substr(I,2)?(l="\\n",I+=2):(l=null,0===M&&r('"\\\\n"')),null!==l&&(l=function(){return"\n"}(c)),null===l&&(I=c),null===l&&(c=I,"\\r"===n.substr(I,2)?(l="\\r",I+=2):(l=null,0===M&&r('"\\\\r"')),null!==l&&(l=function(){return"\r"}(c)),null===l&&(I=c),null===l&&(c=I,"\\t"===n.substr(I,2)?(l="\\t",I+=2):(l=null,0===M&&r('"\\\\t"')),null!==l&&(l=function(){return"	"}(c)),null===l&&(I=c),null===l&&(c=I,i=I,"\\u"===n.substr(I,2)?(l="\\u",I+=2):(l=null,0===M&&r('"\\\\u"')),null!==l?(u=_(),null!==u?(t=_(),null!==t?(e=_(),null!==e?(o=_(),null!==o?l=[l,u,t,e,o]:(l=null,I=i)):(l=null,I=i)):(l=null,I=i)):(l=null,I=i)):(l=null,I=i),null!==l&&(l=function(l,n,u,r,t){return String.fromCharCode(parseInt("0x"+n+u+r+t))}(c,l[1],l[2],l[3],l[4])),null===l&&(I=c)))))))))),l}function p(){var l,n,u;if(u=I,n=v(),null!==n)for(l=[];null!==n;)l.push(n),n=v();else l=null;return null!==l&&(l=function(l,n){return n.join("")}(u,l)),null===l&&(I=u),l}function v(){var l,u,t,e,o,c,i;return/^[^'\\\0-\x1F]/.test(n.charAt(I))?(l=n.charAt(I),I++):(l=null,0===M&&r("[^'\\\\\\0-\\x1F]")),null===l&&(c=I,"\\'"===n.substr(I,2)?(l="\\'",I+=2):(l=null,0===M&&r('"\\\\\'"')),null!==l&&(l=function(){return"'"}(c)),null===l&&(I=c),null===l&&(c=I,"\\\\"===n.substr(I,2)?(l="\\\\",I+=2):(l=null,0===M&&r('"\\\\\\\\"')),null!==l&&(l=function(){return"\\"}(c)),null===l&&(I=c),null===l&&(c=I,"\\/"===n.substr(I,2)?(l="\\/",I+=2):(l=null,0===M&&r('"\\\\/"')),null!==l&&(l=function(){return"/"}(c)),null===l&&(I=c),null===l&&(c=I,"\\b"===n.substr(I,2)?(l="\\b",I+=2):(l=null,0===M&&r('"\\\\b"')),null!==l&&(l=function(){return"\b"}(c)),null===l&&(I=c),null===l&&(c=I,"\\f"===n.substr(I,2)?(l="\\f",I+=2):(l=null,0===M&&r('"\\\\f"')),null!==l&&(l=function(){return"\f"}(c)),null===l&&(I=c),null===l&&(c=I,"\\n"===n.substr(I,2)?(l="\\n",I+=2):(l=null,0===M&&r('"\\\\n"')),null!==l&&(l=function(){return"\n"}(c)),null===l&&(I=c),null===l&&(c=I,"\\r"===n.substr(I,2)?(l="\\r",I+=2):(l=null,0===M&&r('"\\\\r"')),null!==l&&(l=function(){return"\r"}(c)),null===l&&(I=c),null===l&&(c=I,"\\t"===n.substr(I,2)?(l="\\t",I+=2):(l=null,0===M&&r('"\\\\t"')),null!==l&&(l=function(){return"	"}(c)),null===l&&(I=c),null===l&&(c=I,i=I,"\\u"===n.substr(I,2)?(l="\\u",I+=2):(l=null,0===M&&r('"\\\\u"')),null!==l?(u=_(),null!==u?(t=_(),null!==t?(e=_(),null!==e?(o=_(),null!==o?l=[l,u,t,e,o]:(l=null,I=i)):(l=null,I=i)):(l=null,I=i)):(l=null,I=i)):(l=null,I=i),null!==l&&(l=function(l,n,u,r,t){return String.fromCharCode(parseInt("0x"+n+u+r+t))}(c,l[1],l[2],l[3],l[4])),null===l&&(I=c)))))))))),l}function b(){var l,u,t;if(M++,l=s(),null===l){if(t=I,/^[a-zA-Z0-9_$]/.test(n.charAt(I))?(u=n.charAt(I),I++):(u=null,0===M&&r("[a-zA-Z0-9_$]")),null!==u)for(l=[];null!==u;)l.push(u),/^[a-zA-Z0-9_$]/.test(n.charAt(I))?(u=n.charAt(I),I++):(u=null,0===M&&r("[a-zA-Z0-9_$]"));else l=null;null!==l&&(l=function(l,n){return n.join("")}(t,l)),null===l&&(I=t)}return M--,0===M&&null===l&&r("key"),l}function C(){var l,u;if(/^[^,}]/.test(n.charAt(I))?(u=n.charAt(I),I++):(u=null,0===M&&r("[^,}]")),null!==u)for(l=[];null!==u;)l.push(u),/^[^,}]/.test(n.charAt(I))?(u=n.charAt(I),I++):(u=null,0===M&&r("[^,}]"));else l=null;return l}function g(){var l,n,u,t,e,o;return M++,e=I,o=I,l=x(),null!==l?(n=m(),null!==n?(u=j(),null!==u?(t=S(),null!==t?l=[l,n,u,t]:(l=null,I=o)):(l=null,I=o)):(l=null,I=o)):(l=null,I=o),null!==l&&(l=function(l,n,u,r){return parseFloat(n+u+r)}(e,l[0],l[1],l[2])),null===l&&(I=e),null===l&&(e=I,o=I,l=x(),null!==l?(n=m(),null!==n?(u=S(),null!==u?l=[l,n,u]:(l=null,I=o)):(l=null,I=o)):(l=null,I=o),null!==l&&(l=function(l,n,u){return parseFloat(n+u)}(e,l[0],l[1])),null===l&&(I=e),null===l&&(e=I,o=I,l=x(),null!==l?(n=j(),null!==n?(u=S(),null!==u?l=[l,n,u]:(l=null,I=o)):(l=null,I=o)):(l=null,I=o),null!==l&&(l=function(l,n,u){return parseFloat(n+u)}(e,l[0],l[1])),null===l&&(I=e),null===l&&(e=I,o=I,l=x(),null!==l?(n=S(),null!==n?l=[l,n]:(l=null,I=o)):(l=null,I=o),null!==l&&(l=function(l,n){return parseFloat(n)}(e,l[0])),null===l&&(I=e)))),M--,0===M&&null===l&&r("number"),l}function x(){var l,u,t,e,o;return e=I,o=I,l=w(),null!==l?(u=F(),null!==u?l=[l,u]:(l=null,I=o)):(l=null,I=o),null!==l&&(l=function(l,n,u){return n+u}(e,l[0],l[1])),null===l&&(I=e),null===l&&(l=E(),null===l&&(e=I,o=I,45===n.charCodeAt(I)?(l="-",I++):(l=null,0===M&&r('"-"')),null!==l?(u=w(),null!==u?(t=F(),null!==t?l=[l,u,t]:(l=null,I=o)):(l=null,I=o)):(l=null,I=o),null!==l&&(l=function(l,n,u){return"-"+n+u}(e,l[1],l[2])),null===l&&(I=e),null===l&&(e=I,o=I,45===n.charCodeAt(I)?(l="-",I++):(l=null,0===M&&r('"-"')),null!==l?(u=E(),null!==u?l=[l,u]:(l=null,I=o)):(l=null,I=o),null!==l&&(l=function(l,n){return"-"+n}(e,l[1])),null===l&&(I=e)))),l}function m(){var l,u,t,e;return t=I,e=I,46===n.charCodeAt(I)?(l=".",I++):(l=null,0===M&&r('"."')),null!==l?(u=F(),null!==u?l=[l,u]:(l=null,I=e)):(l=null,I=e),null!==l&&(l=function(l,n){return"."+n}(t,l[1])),null===l&&(I=t),l}function j(){var l,n,u,r;return u=I,r=I,l=y(),null!==l?(n=F(),null!==n?l=[l,n]:(l=null,I=r)):(l=null,I=r),null!==l&&(l=function(l,n,u){return n+u}(u,l[0],l[1])),null===l&&(I=u),l}function F(){var l,n,u;if(u=I,n=E(),null!==n)for(l=[];null!==n;)l.push(n),n=E();else l=null;return null!==l&&(l=function(l,n){return n.join("")}(u,l)),null===l&&(I=u),l}function y(){var l,u,t,e;return t=I,e=I,/^[eE]/.test(n.charAt(I))?(l=n.charAt(I),I++):(l=null,0===M&&r("[eE]")),null!==l?(/^[+\-]/.test(n.charAt(I))?(u=n.charAt(I),I++):(u=null,0===M&&r("[+\\-]")),u=null!==u?u:"",null!==u?l=[l,u]:(l=null,I=e)):(l=null,I=e),null!==l&&(l=function(l,n,u){return n+u}(t,l[0],l[1])),null===l&&(I=t),l}function E(){var l;return/^[0-9]/.test(n.charAt(I))?(l=n.charAt(I),I++):(l=null,0===M&&r("[0-9]")),l}function w(){var l;return/^[1-9]/.test(n.charAt(I))?(l=n.charAt(I),I++):(l=null,0===M&&r("[1-9]")),l}function _(){var l;return/^[0-9a-fA-F]/.test(n.charAt(I))?(l=n.charAt(I),I++):(l=null,0===M&&r("[0-9a-fA-F]")),l}function S(){var l,n;for(M++,l=[],n=q();null!==n;)l.push(n),n=q();return M--,0===M&&null===l&&r("whitespace"),l}function q(){var l;return/^[ \t\n\r]/.test(n.charAt(I))?(l=n.charAt(I),I++):(l=null,0===M&&r("[ \\t\\n\\r]")),l}function k(l){l.sort();for(var n=null,u=[],r=0;r<l.length;r++)l[r]!==n&&(u.push(l[r]),n=l[r]);return u}function z(){for(var l=1,u=1,r=!1,t=0;t<Math.max(I,B);t++){var e=n.charAt(t);"\n"===e?(r||l++,u=1,r=!1):"\r"===e||"\u2028"===e||"\u2029"===e?(l++,u=1,r=!0):(u++,r=!1)}return{line:l,column:u}}function Z(l){return l===O?null:l}var $={start:t,object:e,members:o,pair:c,array:i,elements:a,value:f,string:s,single:h,chars:A,"char":d,schars:p,schar:v,key:b,literal:C,number:g,"int":x,frac:m,exp:j,digits:F,e:y,digit:E,digit19:w,hexDigit:_,_:S,whitespace:q};if(void 0!==u){if(void 0===$[u])throw new Error("Invalid rule name: "+l(u)+".")}else u="start";var I=0,M=0,B=0,D=[],O=new Object,G=$[u]();if(null===G||I!==n.length){var H=Math.max(I,B),J=H<n.length?n.charAt(H):null,K=z();throw new this.SyntaxError(k(D),J,H,K.line,K.column)}return G},toSource:function(){return this._source}};return n.SyntaxError=function(n,u,r,t,e){function o(n,u){var r,t;switch(n.length){case 0:r="end of input";break;case 1:r=n[0];break;default:r=n.slice(0,n.length-1).join(", ")+" or "+n[n.length-1]}return t=u?l(u):"end of input","Expected "+r+" but "+t+" found."}this.name="SyntaxError",this.expected=n,this.found=u,this.message=o(n,u),this.offset=r,this.line=t,this.column=e},n.SyntaxError.prototype=Error.prototype,n}();"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=t),exports.jsonic=t):l.jsonic=t}).call(this);
//# sourceMappingURL=jsonic-min.map