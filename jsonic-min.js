/* Copyright (c) 2013-2015 Richard Rodger, MIT License, https://github.com/rjrodger/jsonic */
"use strict";(function(){var l=this,n=l.jsonic,u=l.jsonic=function(l){if("[object String]"!==Object.prototype.toString.call(l)){if(Object.prototype.toString.call(l).match(/\[object (Object|Array)\]/))return l;throw new Error("Not an object, array or string: "+l)}return"{"!=l[0]&&(l="{"+l+"}"),r.parse(l)};u.noConflict=function(){return l.jsonic=n,self};var r=function(){function l(l){return'"'+l.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,escape)+'"'}var n={parse:function(n,u){function r(l){M>I||(I>M&&(M=I,B=[]),B.push(l))}function t(){var l,n,u,r;return u=I,r=I,l=_(),null!==l?(n=e(),null!==n?l=[l,n]:(l=null,I=r)):(l=null,I=r),null!==l&&(l=function(l,n){return n}(u,l[1])),null===l&&(I=u),l}function e(){var l,u,t,e,c,a,i;return a=I,i=I,123===n.charCodeAt(I)?(l="{",I++):(l=null,0===q&&r('"{"')),null!==l?(u=_(),null!==u?(125===n.charCodeAt(I)?(t="}",I++):(t=null,0===q&&r('"}"')),null!==t?(e=_(),null!==e?l=[l,u,t,e]:(l=null,I=i)):(l=null,I=i)):(l=null,I=i)):(l=null,I=i),null!==l&&(l=function(){return{}}(a)),null===l&&(I=a),null===l&&(a=I,i=I,123===n.charCodeAt(I)?(l="{",I++):(l=null,0===q&&r('"{"')),null!==l?(u=_(),null!==u?(t=o(),null!==t?(125===n.charCodeAt(I)?(e="}",I++):(e=null,0===q&&r('"}"')),null!==e?(c=_(),null!==c?l=[l,u,t,e,c]:(l=null,I=i)):(l=null,I=i)):(l=null,I=i)):(l=null,I=i)):(l=null,I=i),null!==l&&(l=function(l,n){return n}(a,l[2])),null===l&&(I=a)),l}function o(){var l,u,t,e,o,a,i,f;if(a=I,i=I,l=c(),null!==l){for(u=[],f=I,44===n.charCodeAt(I)?(t=",",I++):(t=null,0===q&&r('","')),null!==t?(e=_(),null!==e?(o=c(),null!==o?t=[t,e,o]:(t=null,I=f)):(t=null,I=f)):(t=null,I=f);null!==t;)u.push(t),f=I,44===n.charCodeAt(I)?(t=",",I++):(t=null,0===q&&r('","')),null!==t?(e=_(),null!==e?(o=c(),null!==o?t=[t,e,o]:(t=null,I=f)):(t=null,I=f)):(t=null,I=f);null!==u?(44===n.charCodeAt(I)?(t=",",I++):(t=null,0===q&&r('","')),t=null!==t?t:"",null!==t?(e=_(),null!==e?l=[l,u,t,e]:(l=null,I=i)):(l=null,I=i)):(l=null,I=i)}else l=null,I=i;return null!==l&&(l=function(l,n,u){var r={};r[n[0]]=Z(n[1]);for(var t=0;t<u.length;t++)r[u[t][2][0]]=Z(u[t][2][1]);return r}(a,l[0],l[1])),null===l&&(I=a),l}function c(){var l,u,t,e,o,c;return o=I,c=I,l=v(),null!==l?(58===n.charCodeAt(I)?(u=":",I++):(u=null,0===q&&r('":"')),null!==u?(t=_(),null!==t?(e=f(),null!==e?l=[l,u,t,e]:(l=null,I=c)):(l=null,I=c)):(l=null,I=c)):(l=null,I=c),null!==l&&(l=function(l,n,u){return[n,u]}(o,l[0],l[3])),null===l&&(I=o),l}function a(){var l,u,t,e,o,c,a;return c=I,a=I,91===n.charCodeAt(I)?(l="[",I++):(l=null,0===q&&r('"["')),null!==l?(u=_(),null!==u?(93===n.charCodeAt(I)?(t="]",I++):(t=null,0===q&&r('"]"')),null!==t?(e=_(),null!==e?l=[l,u,t,e]:(l=null,I=a)):(l=null,I=a)):(l=null,I=a)):(l=null,I=a),null!==l&&(l=function(){return[]}(c)),null===l&&(I=c),null===l&&(c=I,a=I,91===n.charCodeAt(I)?(l="[",I++):(l=null,0===q&&r('"["')),null!==l?(u=_(),null!==u?(t=i(),null!==t?(93===n.charCodeAt(I)?(e="]",I++):(e=null,0===q&&r('"]"')),null!==e?(o=_(),null!==o?l=[l,u,t,e,o]:(l=null,I=a)):(l=null,I=a)):(l=null,I=a)):(l=null,I=a)):(l=null,I=a),null!==l&&(l=function(l,n){return n}(c,l[2])),null===l&&(I=c)),l}function i(){var l,u,t,e,o,c,a,i;if(c=I,a=I,l=f(),null!==l){for(u=[],i=I,44===n.charCodeAt(I)?(t=",",I++):(t=null,0===q&&r('","')),null!==t?(e=_(),null!==e?(o=f(),null!==o?t=[t,e,o]:(t=null,I=i)):(t=null,I=i)):(t=null,I=i);null!==t;)u.push(t),i=I,44===n.charCodeAt(I)?(t=",",I++):(t=null,0===q&&r('","')),null!==t?(e=_(),null!==e?(o=f(),null!==o?t=[t,e,o]:(t=null,I=i)):(t=null,I=i)):(t=null,I=i);null!==u?l=[l,u]:(l=null,I=a)}else l=null,I=a;return null!==l&&(l=function(l,n,u){for(var r=[Z(n)],t=0;t<u.length;t++)r.push(Z(u[t][2]));return r}(c,l[0],l[1])),null===l&&(I=c),l}function f(){var l,u,t,o;return l=s(),null===l&&(l=h(),null===l&&(l=C(),null===l&&(l=e(),null===l&&(l=a(),null===l&&(t=I,o=I,"true"===n.substr(I,4)?(l="true",I+=4):(l=null,0===q&&r('"true"')),null!==l?(u=_(),null!==u?l=[l,u]:(l=null,I=o)):(l=null,I=o),null!==l&&(l=function(){return!0}(t)),null===l&&(I=t),null===l&&(t=I,o=I,"false"===n.substr(I,5)?(l="false",I+=5):(l=null,0===q&&r('"false"')),null!==l?(u=_(),null!==u?l=[l,u]:(l=null,I=o)):(l=null,I=o),null!==l&&(l=function(){return!1}(t)),null===l&&(I=t),null===l&&(t=I,o=I,"null"===n.substr(I,4)?(l="null",I+=4):(l=null,0===q&&r('"null"')),null!==l?(u=_(),null!==u?l=[l,u]:(l=null,I=o)):(l=null,I=o),null!==l&&(l=function(){return D}(t)),null===l&&(I=t),null===l&&(t=I,l=g(),null!==l&&(l=function(l,n){return n.join("")}(t,l)),null===l&&(I=t))))))))),l}function s(){var l,u,t,e,o,c;return q++,o=I,c=I,34===n.charCodeAt(I)?(l='"',I++):(l=null,0===q&&r('"\\""')),null!==l?(34===n.charCodeAt(I)?(u='"',I++):(u=null,0===q&&r('"\\""')),null!==u?(t=_(),null!==t?l=[l,u,t]:(l=null,I=c)):(l=null,I=c)):(l=null,I=c),null!==l&&(l=function(){return""}(o)),null===l&&(I=o),null===l&&(o=I,c=I,34===n.charCodeAt(I)?(l='"',I++):(l=null,0===q&&r('"\\""')),null!==l?(u=A(),null!==u?(34===n.charCodeAt(I)?(t='"',I++):(t=null,0===q&&r('"\\""')),null!==t?(e=_(),null!==e?l=[l,u,t,e]:(l=null,I=c)):(l=null,I=c)):(l=null,I=c)):(l=null,I=c),null!==l&&(l=function(l,n){return n}(o,l[1])),null===l&&(I=o)),q--,0===q&&null===l&&r("double-quote string"),l}function h(){var l,u,t,e,o,c;return q++,o=I,c=I,39===n.charCodeAt(I)?(l="'",I++):(l=null,0===q&&r('"\'"')),null!==l?(39===n.charCodeAt(I)?(u="'",I++):(u=null,0===q&&r('"\'"')),null!==u?(t=_(),null!==t?l=[l,u,t]:(l=null,I=c)):(l=null,I=c)):(l=null,I=c),null!==l&&(l=function(){return""}(o)),null===l&&(I=o),null===l&&(o=I,c=I,39===n.charCodeAt(I)?(l="'",I++):(l=null,0===q&&r('"\'"')),null!==l?(u=d(),null!==u?(39===n.charCodeAt(I)?(t="'",I++):(t=null,0===q&&r('"\'"')),null!==t?(e=_(),null!==e?l=[l,u,t,e]:(l=null,I=c)):(l=null,I=c)):(l=null,I=c)):(l=null,I=c),null!==l&&(l=function(l,n){return n}(o,l[1])),null===l&&(I=o)),q--,0===q&&null===l&&r("single-quote string"),l}function A(){var l,n,u;if(u=I,n=p(),null!==n)for(l=[];null!==n;)l.push(n),n=p();else l=null;return null!==l&&(l=function(l,n){return n.join("")}(u,l)),null===l&&(I=u),l}function p(){var l,u,t,e,o,c,a;return/^[^"\\\0-\x1F]/.test(n.charAt(I))?(l=n.charAt(I),I++):(l=null,0===q&&r('[^"\\\\\\0-\\x1F]')),null===l&&(c=I,'\\"'===n.substr(I,2)?(l='\\"',I+=2):(l=null,0===q&&r('"\\\\\\""')),null!==l&&(l=function(){return'"'}(c)),null===l&&(I=c),null===l&&(c=I,"\\\\"===n.substr(I,2)?(l="\\\\",I+=2):(l=null,0===q&&r('"\\\\\\\\"')),null!==l&&(l=function(){return"\\"}(c)),null===l&&(I=c),null===l&&(c=I,"\\/"===n.substr(I,2)?(l="\\/",I+=2):(l=null,0===q&&r('"\\\\/"')),null!==l&&(l=function(){return"/"}(c)),null===l&&(I=c),null===l&&(c=I,"\\b"===n.substr(I,2)?(l="\\b",I+=2):(l=null,0===q&&r('"\\\\b"')),null!==l&&(l=function(){return"\b"}(c)),null===l&&(I=c),null===l&&(c=I,"\\f"===n.substr(I,2)?(l="\\f",I+=2):(l=null,0===q&&r('"\\\\f"')),null!==l&&(l=function(){return"\f"}(c)),null===l&&(I=c),null===l&&(c=I,"\\n"===n.substr(I,2)?(l="\\n",I+=2):(l=null,0===q&&r('"\\\\n"')),null!==l&&(l=function(){return"\n"}(c)),null===l&&(I=c),null===l&&(c=I,"\\r"===n.substr(I,2)?(l="\\r",I+=2):(l=null,0===q&&r('"\\\\r"')),null!==l&&(l=function(){return"\r"}(c)),null===l&&(I=c),null===l&&(c=I,"\\t"===n.substr(I,2)?(l="\\t",I+=2):(l=null,0===q&&r('"\\\\t"')),null!==l&&(l=function(){return"	"}(c)),null===l&&(I=c),null===l&&(c=I,a=I,"\\u"===n.substr(I,2)?(l="\\u",I+=2):(l=null,0===q&&r('"\\\\u"')),null!==l?(u=S(),null!==u?(t=S(),null!==t?(e=S(),null!==e?(o=S(),null!==o?l=[l,u,t,e,o]:(l=null,I=a)):(l=null,I=a)):(l=null,I=a)):(l=null,I=a)):(l=null,I=a),null!==l&&(l=function(l,n,u,r,t){return String.fromCharCode(parseInt("0x"+n+u+r+t))}(c,l[1],l[2],l[3],l[4])),null===l&&(I=c)))))))))),l}function d(){var l,n,u;if(u=I,n=b(),null!==n)for(l=[];null!==n;)l.push(n),n=b();else l=null;return null!==l&&(l=function(l,n){return n.join("")}(u,l)),null===l&&(I=u),l}function b(){var l,u,t,e,o,c,a;return/^[^'\\\0-\x1F]/.test(n.charAt(I))?(l=n.charAt(I),I++):(l=null,0===q&&r("[^'\\\\\\0-\\x1F]")),null===l&&(c=I,"\\'"===n.substr(I,2)?(l="\\'",I+=2):(l=null,0===q&&r('"\\\\\'"')),null!==l&&(l=function(){return"'"}(c)),null===l&&(I=c),null===l&&(c=I,"\\\\"===n.substr(I,2)?(l="\\\\",I+=2):(l=null,0===q&&r('"\\\\\\\\"')),null!==l&&(l=function(){return"\\"}(c)),null===l&&(I=c),null===l&&(c=I,"\\/"===n.substr(I,2)?(l="\\/",I+=2):(l=null,0===q&&r('"\\\\/"')),null!==l&&(l=function(){return"/"}(c)),null===l&&(I=c),null===l&&(c=I,"\\b"===n.substr(I,2)?(l="\\b",I+=2):(l=null,0===q&&r('"\\\\b"')),null!==l&&(l=function(){return"\b"}(c)),null===l&&(I=c),null===l&&(c=I,"\\f"===n.substr(I,2)?(l="\\f",I+=2):(l=null,0===q&&r('"\\\\f"')),null!==l&&(l=function(){return"\f"}(c)),null===l&&(I=c),null===l&&(c=I,"\\n"===n.substr(I,2)?(l="\\n",I+=2):(l=null,0===q&&r('"\\\\n"')),null!==l&&(l=function(){return"\n"}(c)),null===l&&(I=c),null===l&&(c=I,"\\r"===n.substr(I,2)?(l="\\r",I+=2):(l=null,0===q&&r('"\\\\r"')),null!==l&&(l=function(){return"\r"}(c)),null===l&&(I=c),null===l&&(c=I,"\\t"===n.substr(I,2)?(l="\\t",I+=2):(l=null,0===q&&r('"\\\\t"')),null!==l&&(l=function(){return"	"}(c)),null===l&&(I=c),null===l&&(c=I,a=I,"\\u"===n.substr(I,2)?(l="\\u",I+=2):(l=null,0===q&&r('"\\\\u"')),null!==l?(u=S(),null!==u?(t=S(),null!==t?(e=S(),null!==e?(o=S(),null!==o?l=[l,u,t,e,o]:(l=null,I=a)):(l=null,I=a)):(l=null,I=a)):(l=null,I=a)):(l=null,I=a),null!==l&&(l=function(l,n,u,r,t){return String.fromCharCode(parseInt("0x"+n+u+r+t))}(c,l[1],l[2],l[3],l[4])),null===l&&(I=c)))))))))),l}function v(){var l,u,t;if(q++,l=s(),null===l){if(t=I,/^[a-zA-Z0-9_$]/.test(n.charAt(I))?(u=n.charAt(I),I++):(u=null,0===q&&r("[a-zA-Z0-9_$]")),null!==u)for(l=[];null!==u;)l.push(u),/^[a-zA-Z0-9_$]/.test(n.charAt(I))?(u=n.charAt(I),I++):(u=null,0===q&&r("[a-zA-Z0-9_$]"));else l=null;null!==l&&(l=function(l,n){return n.join("")}(t,l)),null===l&&(I=t)}return q--,0===q&&null===l&&r("key"),l}function g(){var l,u;if(/^[^,}]/.test(n.charAt(I))?(u=n.charAt(I),I++):(u=null,0===q&&r("[^,}]")),null!==u)for(l=[];null!==u;)l.push(u),/^[^,}]/.test(n.charAt(I))?(u=n.charAt(I),I++):(u=null,0===q&&r("[^,}]"));else l=null;return l}function C(){var l,n,u,t,e,o;return q++,e=I,o=I,l=x(),null!==l?(n=j(),null!==n?(u=m(),null!==u?(t=_(),null!==t?l=[l,n,u,t]:(l=null,I=o)):(l=null,I=o)):(l=null,I=o)):(l=null,I=o),null!==l&&(l=function(l,n,u,r){return parseFloat(n+u+r)}(e,l[0],l[1],l[2])),null===l&&(I=e),null===l&&(e=I,o=I,l=x(),null!==l?(n=j(),null!==n?(u=_(),null!==u?l=[l,n,u]:(l=null,I=o)):(l=null,I=o)):(l=null,I=o),null!==l&&(l=function(l,n,u){return parseFloat(n+u)}(e,l[0],l[1])),null===l&&(I=e),null===l&&(e=I,o=I,l=x(),null!==l?(n=m(),null!==n?(u=_(),null!==u?l=[l,n,u]:(l=null,I=o)):(l=null,I=o)):(l=null,I=o),null!==l&&(l=function(l,n,u){return parseFloat(n+u)}(e,l[0],l[1])),null===l&&(I=e),null===l&&(e=I,o=I,l=x(),null!==l?(n=_(),null!==n?l=[l,n]:(l=null,I=o)):(l=null,I=o),null!==l&&(l=function(l,n){return parseFloat(n)}(e,l[0])),null===l&&(I=e)))),q--,0===q&&null===l&&r("number"),l}function x(){var l,u,t,e,o;return e=I,o=I,l=w(),null!==l?(u=y(),null!==u?l=[l,u]:(l=null,I=o)):(l=null,I=o),null!==l&&(l=function(l,n,u){return n+u}(e,l[0],l[1])),null===l&&(I=e),null===l&&(l=E(),null===l&&(e=I,o=I,45===n.charCodeAt(I)?(l="-",I++):(l=null,0===q&&r('"-"')),null!==l?(u=w(),null!==u?(t=y(),null!==t?l=[l,u,t]:(l=null,I=o)):(l=null,I=o)):(l=null,I=o),null!==l&&(l=function(l,n,u){return"-"+n+u}(e,l[1],l[2])),null===l&&(I=e),null===l&&(e=I,o=I,45===n.charCodeAt(I)?(l="-",I++):(l=null,0===q&&r('"-"')),null!==l?(u=E(),null!==u?l=[l,u]:(l=null,I=o)):(l=null,I=o),null!==l&&(l=function(l,n){return"-"+n}(e,l[1])),null===l&&(I=e)))),l}function j(){var l,u,t,e;return t=I,e=I,46===n.charCodeAt(I)?(l=".",I++):(l=null,0===q&&r('"."')),null!==l?(u=y(),null!==u?l=[l,u]:(l=null,I=e)):(l=null,I=e),null!==l&&(l=function(l,n){return"."+n}(t,l[1])),null===l&&(I=t),l}function m(){var l,n,u,r;return u=I,r=I,l=F(),null!==l?(n=y(),null!==n?l=[l,n]:(l=null,I=r)):(l=null,I=r),null!==l&&(l=function(l,n,u){return n+u}(u,l[0],l[1])),null===l&&(I=u),l}function y(){var l,n,u;if(u=I,n=E(),null!==n)for(l=[];null!==n;)l.push(n),n=E();else l=null;return null!==l&&(l=function(l,n){return n.join("")}(u,l)),null===l&&(I=u),l}function F(){var l,u,t,e;return t=I,e=I,/^[eE]/.test(n.charAt(I))?(l=n.charAt(I),I++):(l=null,0===q&&r("[eE]")),null!==l?(/^[+\-]/.test(n.charAt(I))?(u=n.charAt(I),I++):(u=null,0===q&&r("[+\\-]")),u=null!==u?u:"",null!==u?l=[l,u]:(l=null,I=e)):(l=null,I=e),null!==l&&(l=function(l,n,u){return n+u}(t,l[0],l[1])),null===l&&(I=t),l}function E(){var l;return/^[0-9]/.test(n.charAt(I))?(l=n.charAt(I),I++):(l=null,0===q&&r("[0-9]")),l}function w(){var l;return/^[1-9]/.test(n.charAt(I))?(l=n.charAt(I),I++):(l=null,0===q&&r("[1-9]")),l}function S(){var l;return/^[0-9a-fA-F]/.test(n.charAt(I))?(l=n.charAt(I),I++):(l=null,0===q&&r("[0-9a-fA-F]")),l}function _(){var l,n;for(q++,l=[],n=k();null!==n;)l.push(n),n=k();return q--,0===q&&null===l&&r("whitespace"),l}function k(){var l;return/^[ \t\n\r]/.test(n.charAt(I))?(l=n.charAt(I),I++):(l=null,0===q&&r("[ \\t\\n\\r]")),l}function z(l){l.sort();for(var n=null,u=[],r=0;r<l.length;r++)l[r]!==n&&(u.push(l[r]),n=l[r]);return u}function O(){for(var l=1,u=1,r=!1,t=0;t<Math.max(I,M);t++){var e=n.charAt(t);"\n"===e?(r||l++,u=1,r=!1):"\r"===e||"\u2028"===e||"\u2029"===e?(l++,u=1,r=!0):(u++,r=!1)}return{line:l,column:u}}function Z(l){return l===D?null:l}var $={start:t,object:e,members:o,pair:c,array:a,elements:i,value:f,string:s,single:h,chars:A,"char":p,schars:d,schar:b,key:v,literal:g,number:C,"int":x,frac:j,exp:m,digits:y,e:F,digit:E,digit19:w,hexDigit:S,_:_,whitespace:k};if(void 0!==u){if(void 0===$[u])throw new Error("Invalid rule name: "+l(u)+".")}else u="start";var I=0,q=0,M=0,B=[],D=new Object,N=$[u]();if(null===N||I!==n.length){var G=Math.max(I,M),H=G<n.length?n.charAt(G):null,J=O();throw new this.SyntaxError(z(B),H,G,J.line,J.column)}return N},toSource:function(){return this._source}};return n.SyntaxError=function(n,u,r,t,e){function o(n,u){var r,t;switch(n.length){case 0:r="end of input";break;case 1:r=n[0];break;default:r=n.slice(0,n.length-1).join(", ")+" or "+n[n.length-1]}return t=u?l(u):"end of input","Expected "+r+" but "+t+" found."}this.name="SyntaxError",this.expected=n,this.found=u,this.message=o(n,u),this.offset=r,this.line=t,this.column=e},n.SyntaxError.prototype=Error.prototype,n}();"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=u),exports.jsonic=u):l.jsonic=u}).call(this);
//# sourceMappingURL=jsonic-min.map